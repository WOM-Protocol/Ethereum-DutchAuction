---
id: DutchAuction_CertifierHandler
title: CertifierHandler
---

<div class="contract-doc"><div class="contract"><h2 class="contract-header"><span class="contract-kind">contract</span> CertifierHandler</h2><p class="base-contracts"><span>is</span> <a href="Libraries_Ownable.html">Ownable</a></p><p class="description">This contract can be used by certified people to change their certification address. How it works: 1. A trasaction must be sent from the first certified address, which will contain as argument the new address to certify 2. An event is emitted by the contract, which a process will listen to. It will immediately call `revoke(old_address)` and then `certify(new_address)` in order change the certification address. 3. The certifier account calls `settle` so that the entry is deleted from this contract. A small fee will be asked in order to pay for the transaction costs (3 transactions are sent). After the modification of the certified address, the sender and the new account are both locked. This is to prevent people change constantly their certified address.</p><div class="source">Source: <a href="https://github.com/WOM-Protocol/WOM-Ethe/blob/v1.0.0/contracts/DutchAuction/CertifierHandler.sol" target="_blank">DutchAuction/CertifierHandler.sol</a></div><div class="author">Author: Nicolas Gotchac &lt;nicolas@parity.io&gt;</div></div><div class="index"><h2>Index</h2><ul><li><a href="DutchAuction_CertifierHandler.html#Drained">Drained</a></li><li><a href="DutchAuction_CertifierHandler.html#Locked">Locked</a></li><li><a href="DutchAuction_CertifierHandler.html#NewFee">NewFee</a></li><li><a href="DutchAuction_CertifierHandler.html#NewTreasury">NewTreasury</a></li><li><a href="DutchAuction_CertifierHandler.html#Requested">Requested</a></li><li><a href="DutchAuction_CertifierHandler.html#Transfered">Transfered</a></li><li><a href="DutchAuction_CertifierHandler.html#claim">claim</a></li><li><a href="DutchAuction_CertifierHandler.html#drain">drain</a></li><li><a href="DutchAuction_CertifierHandler.html#">fallback</a></li><li><a href="DutchAuction_CertifierHandler.html#only_unlocked">only_unlocked</a></li><li><a href="DutchAuction_CertifierHandler.html#setFee">setFee</a></li><li><a href="DutchAuction_CertifierHandler.html#setLocked">setLocked</a></li><li><a href="DutchAuction_CertifierHandler.html#setTreasury">setTreasury</a></li><li><a href="DutchAuction_CertifierHandler.html#settle">settle</a></li></ul></div><div class="reference"><h2>Reference</h2><div class="events"><h3>Events</h3><ul><li><div class="item event"><span id="Drained" class="anchor-marker"></span><h4 class="name">Drained</h4><div class="body"><code class="signature">event <strong>Drained</strong><span>(uint _balance) </span></code><hr/><div class="description"><p>EVENTS.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_balance</code> - uint</div></dd></dl></div></div></li><li><div class="item event"><span id="Locked" class="anchor-marker"></span><h4 class="name">Locked</h4><div class="body"><code class="signature">event <strong>Locked</strong><span>(address _who) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_who</code> - address</div></dd></dl></div></div></li><li><div class="item event"><span id="NewFee" class="anchor-marker"></span><h4 class="name">NewFee</h4><div class="body"><code class="signature">event <strong>NewFee</strong><span>(uint _oldFee, uint _newFee) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_oldFee</code> - uint</div><div><code>_newFee</code> - uint</div></dd></dl></div></div></li><li><div class="item event"><span id="NewTreasury" class="anchor-marker"></span><h4 class="name">NewTreasury</h4><div class="body"><code class="signature">event <strong>NewTreasury</strong><span>(address _oldTreasury, address _newTreasury) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_oldTreasury</code> - address</div><div><code>_newTreasury</code> - address</div></dd></dl></div></div></li><li><div class="item event"><span id="Requested" class="anchor-marker"></span><h4 class="name">Requested</h4><div class="body"><code class="signature">event <strong>Requested</strong><span>(address _sender, address _who) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_sender</code> - address</div><div><code>_who</code> - address</div></dd></dl></div></div></li><li><div class="item event"><span id="Transfered" class="anchor-marker"></span><h4 class="name">Transfered</h4><div class="body"><code class="signature">event <strong>Transfered</strong><span>(address _sender, address _who, address _certifier) </span></code><hr/><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_sender</code> - address</div><div><code>_who</code> - address</div><div><code>_certifier</code> - address</div></dd></dl></div></div></li></ul></div><div class="modifiers"><h3>Modifiers</h3><ul><li><div class="item modifier"><span id="only_unlocked" class="anchor-marker"></span><h4 class="name">only_unlocked</h4><div class="body"><code class="signature">modifier <strong>only_unlocked</strong><span>(address _who) </span></code><hr/><div class="description"><p>MODIFIERS.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_who</code> - address</div></dd></dl></div></div></li></ul></div><div class="functions"><h3>Functions</h3><ul><li><div class="item function"><span id="claim" class="anchor-marker"></span><h4 class="name">claim</h4><div class="body"><code class="signature">function <strong>claim</strong><span>(address who) </span><span>public </span><span>payable </span></code><hr/><div class="description"><p>PUBLIC METHODS, This method will be called by certified accounts that which to certify another address. This function can only be called once per user. After a successful re-certification, these two accounts are locked, and cannot ask for another re-certification.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="DutchAuction_CertifierHandler.html#only_unlocked">only_unlocked </a><a href="DutchAuction_CertifierHandler.html#only_unlocked">only_unlocked </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>who</code> - The address to which the certification should be transfered</div></dd></dl></div></div></li><li><div class="item function"><span id="drain" class="anchor-marker"></span><h4 class="name">drain</h4><div class="body"><code class="signature">function <strong>drain</strong><span>() </span><span>external </span></code><hr/><div class="description"><p>RESTRICTED (owner or delegate only) PUBLIC METHODS, Send the current balance to the treasury. Could be needed if value is sent outside of the `claim` method (eg. contract suicide).</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="Libraries_Ownable.html#onlyOwner">onlyOwner </a></dd></dl></div></div></li><li><div class="item function"><span id="fallback" class="anchor-marker"></span><h4 class="name">fallback</h4><div class="body"><code class="signature">function <strong></strong><span>(address _certifier, address _treasury) </span><span>public </span></code><hr/><div class="description"><p>CONSTRUCTOR, Contructor method of the contract, which will set the `certifier` address.</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_certifier</code> - The address of the main certifier</div><div><code>_treasury</code> - The address of the treasury</div></dd></dl></div></div></li><li><div class="item function"><span id="setFee" class="anchor-marker"></span><h4 class="name">setFee</h4><div class="body"><code class="signature">function <strong>setFee</strong><span>(uint _fee) </span><span>external </span></code><hr/><div class="description"><p>Change the fee, needed if for whatever reason gas price must be modified. Only the owner of the contract can execute this method.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="Libraries_Ownable.html#onlyOwner">onlyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_fee</code> - The new fee</div></dd></dl></div></div></li><li><div class="item function"><span id="setLocked" class="anchor-marker"></span><h4 class="name">setLocked</h4><div class="body"><code class="signature">function <strong>setLocked</strong><span>(address _who) </span><span>external </span></code><hr/><div class="description"><p>The owner can lock an account, which is basically a blacklist. This shouldn&#x27;t be used often ; but could be useful for re-deployment of new contract for example.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="Libraries_Ownable.html#onlyOwner">onlyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_who</code> - The account to lock.</div></dd></dl></div></div></li><li><div class="item function"><span id="setTreasury" class="anchor-marker"></span><h4 class="name">setTreasury</h4><div class="body"><code class="signature">function <strong>setTreasury</strong><span>(address _treasury) </span><span>external </span></code><hr/><div class="description"><p>Change the address of the treasury, the address to which the payments are forwarded to. Only the owner of the contract can execute this method.</p></div><dl><dt><span class="label-modifiers">Modifiers:</span></dt><dd><a href="Libraries_Ownable.html#onlyOwner">onlyOwner </a></dd><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>_treasury</code> - The new treasury address</div></dd></dl></div></div></li><li><div class="item function"><span id="settle" class="anchor-marker"></span><h4 class="name">settle</h4><div class="body"><code class="signature">function <strong>settle</strong><span>(address sender) </span><span>public </span></code><hr/><div class="description"><p>This method is called by the certifier account in order to remove the pending request of modification of the certified address. Anyone can call this method, since it checks that the pending request has actually gone through (modification of certification address).</p></div><dl><dt><span class="label-parameters">Parameters:</span></dt><dd><div><code>sender</code> - address</div></dd></dl></div></div></li></ul></div></div></div>
